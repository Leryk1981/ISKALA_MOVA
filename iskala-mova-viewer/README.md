# ISKALA/MOVA Layered String Viewer

Рядковий шаровий переглядач для системи ISKALA/MOVA з можливістю роботи з реальними даними.

## Особливості

- **Білий фон** для кращої читабельності
- **Кольорове кодування шарів** (MOVA, JALM, CODE, LOG, ERROR)
- **Підсвічування синтаксису** для JSON, Python, логів
- **Розгортання деталей** для кожного шару
- **Завантаження з різних джерел**: демо, файл, API
- **Експорт капсул** у форматах JSON та TXT
- **Пошук та фільтрація** по капсулах
- **Валідація даних** при збереженні
- **Історія переглядів** (останні 10 дій)
- **Збереження капсул** через API

## Швидкий старт

### 1. Створення віртуального середовища
```bash
python -m venv venv
```

### 2. Активація віртуального середовища
```bash
# Windows
.\venv\Scripts\Activate.ps1

# Linux/Mac
source venv/bin/activate
```

### 3. Встановлення залежностей
```bash
pip install -r requirements.txt
```

### 4. Запуск сервера
```bash
python app.py
```

### 5. Відкриття переглядача
Відкрийте `http://localhost:5000` у браузері

## Використання

### Демо режим
- Натисніть "Завантажити демо" для перегляду прикладів

### Завантаження з файлу
- Натисніть "Завантажити з файлу"
- Виберіть JSON файл з даними капсули
- Формат файлу дивіться в `example_capsule.json`

### Завантаження з API
- Натисніть "Завантажити з API"
- Дані будуть завантажені з `/api/capsule/latest`

### Управління шарами
- Клік по кольорових квадратах зліва додає/видаляє шари
- Клік по "▸" розгортає детальний вміст шару

## Формат даних

Капсула повинна містити об'єкти для кожного шару:

```json
{
  "mova": {
    "short": "Короткий опис наміру",
    "full": "Повний опис з деталями"
  },
  "jalm": {
    "short": "Короткий JSON",
    "full": "Повний JSON з форматуванням"
  },
  "code": {
    "short": "Короткий код",
    "full": "Повний код з підсвічуванням"
  },
  "log": {
    "short": "Короткий лог",
    "full": "Повний лог"
  },
  "error": {
    "short": "Коротка помилка",
    "full": "Повний стек помилки"
  }
}
```

## API Endpoints

- `GET /api/capsule/latest` - отримати останню капсулу
- `POST /api/capsule` - зберегти нову капсулу
- `GET /api/capsules` - список всіх капсул
- `GET /api/capsule/<filename>` - отримати конкретну капсулу
- `GET /api/health` - перевірка стану сервера

## Кольорова схема

| Шар | Колір |
|-----|-------|
| MOVA | #26a65b (зелений) |
| JALM | #f1b80a (жовтий) |
| CODE | #1e50a2 (синій) |
| LOG | #3b246c (фіолетовий) |
| ERROR | #e53935 (червоний) |

## Розробка

Для розробки з автоматичним перезавантаженням:
```bash
npm run dev
```
